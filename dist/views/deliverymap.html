<div class="button-row avoid-selection"> 
	<div class="pure-button-secondary" ng-class="{pressed: enableRemove}" ng-click="enableRemove = !enableRemove">
		<span ng-show="enableRemove">Disable</span><span ng-hide="enableRemove">Enable</span> Remove
	</div>
</div>
<div class="deliverymap">
	<div class="iteration" ng-repeat="it in iterations">
		<div class="iteration-header avoid-selection" ng-class="{selected: (it.number == iterationNumber)}" ng-dblclick="navigateToBacklog(it.number)"> Iteration #{{ it.number }}</div>
		<div class="iteration-subheader">
			<div> {{ it.from | date:'mediumDate'}}</div>
			<div> - </div>
			<div> {{ it.to | date:'mediumDate'}}</div>
		</div>
		<div class="iteration-content">
			<div class="feature" ng-class="feature.status" ng-repeat="feature in it.features" ng-dblclick="feature.editmode = true">
				<div class="close-border avoid-selection" ng-show="enableRemove" ng-click="removeFeature(it.number, feature)">X</div>
				<span ng-hide="feature.editmode">{{feature.name}}</span>
				<input ng-show="feature.editmode" type="text" ng-model="feature.name" ng-enter="feature.editmode = false">
				<a ng-show="feature.editmode" ng-click="feature.editmode = false"><i class="fa fa-check"></i></a>
			</div>
			<div class="feature template avoid-selection" ng-click="addFeature(it.number)"> Create Feature</div>
		</div>
	</div>
	<div class="iteration">
		<div class="iteration-header iteration-template avoid-selection" ng-click="addIteration()">
			<i class="fa fa-plus"></i>		
		</div>
	</div>
</div>

<div class="iteration-references">

</div>